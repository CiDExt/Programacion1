
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Archivos &#8212; Programación 1</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="La programación orientada a objetos" href="22.Clases.html" />
    <link rel="prev" title="Conjuntos" href="18.Conjuntos%20y%20Diccionarios.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Programación 1</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar este libro ..." aria-label="Buscar este libro ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introducción a la programación
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1.Consola.html">
   Buscar, borrar y mover archivos en CLI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2.Github1.html">
   Controlador de versiones
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3.Github2.html">
   Mi primera página
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4.Algoritmos.html">
   Algoritmos, Python y Jupyter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5.Variables.html">
   Variables y funciones básicas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6.Listas%20y%20Tuplas.html">
   Listas (introducción)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7.Paradigmas.html">
   Intermezzo - Paradigmas de programación
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8.Condicionales.html">
   Condicionales (if)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9.%20Iteraci%C3%B3n%20y%20bucles.html">
   Bucles (while)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10.%20Iteraci%C3%B3n%20y%20bucles%20II.html">
   Bucles (for)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11.Funciones.%20Definici%C3%B3n.html">
   Funciones: Definición
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12.Funciones.%20Argumentos.html">
   Funciones: Argumentos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13.Modularizar.html">
   Modularizar
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="14.Math%20y%20Random.html">
   Math y Random - introducción
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="15.Referencias.html">
   Referencias en Python:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="16.Programaci%C3%B3nFuncional.html">
   Programación funcional
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="17.M%C3%A1s%20sobre%20listas.html">
   Más sobre listas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="18.Conjuntos%20y%20Diccionarios.html">
   Conjuntos
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Archivos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="22.Clases.html">
   La programación orientada a objetos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="23.Numpy.html">
   Numpy - Computación numérica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="24.Matplotlib.html">
   Matplotlib - Creación de gráficos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="25.Sympy.html">
   Sympy - Computación simbólica
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Navegación de palanca" aria-controls="site-navigation"
                title="Navegación de palanca" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Descarga esta pagina"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/20.Archivos.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Descargar archivo fuente" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Imprimir en PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/CiDExt/Programacion1"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Repositorio de origen"><i
                    class="fab fa-github"></i>repositorio</button></a>
        <a class="issues-button"
            href="https://github.com/CiDExt/Programacion1/issues/new?title=Issue%20on%20page%20%2F20.Archivos.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Abrir un problema"><i class="fas fa-lightbulb"></i>Tema abierto</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Modo de pantalla completa"
        title="Modo de pantalla completa"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/CiDExt/Programacion1/master?urlpath=tree/docs/20.Archivos.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Lanzamiento Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contenido
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creando-un-txt">
   Creando un .txt
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#with">
     With
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#open">
     Open
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write">
     Write
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#leyendo-archivos">
   Leyendo archivos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#actualizando-archivos">
   Actualizando archivos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicio">
     Ejercicio
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Ejercicio
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#serializacion-con-json">
   Serialización con JSON
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deserializar">
     Deserializar
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#archivos-csv">
   Archivos CSV
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Ejercicio
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="archivos">
<h1>Archivos<a class="headerlink" href="#archivos" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>¿Qué aprenderemos?</p>
<p>Crear y manipular archivos</p>
<div class="tabbed-set docutils">
<input checked="checked" id="c7f85339-5c12-451f-a928-54a317137927" name="111044f7-4f99-4943-a508-9065d04552e8" type="radio">
</input><label class="tabbed-label" for="c7f85339-5c12-451f-a928-54a317137927">
JSON</label><div class="tabbed-content docutils">
<div class="tip admonition">
<p class="admonition-title">¿Qué son?</p>
<p>Es un tipo de archivos que permiten almacenar información y su estructura, además son legibles por humanos.</p>
</div>
</div>
<input id="d407a62b-e1a8-44ad-b71b-2b4206508135" name="111044f7-4f99-4943-a508-9065d04552e8" type="radio">
</input><label class="tabbed-label" for="d407a62b-e1a8-44ad-b71b-2b4206508135">
CSV</label><div class="tabbed-content docutils">
<div class="tip admonition">
<p class="admonition-title">¿Qué son?</p>
<p>Archivos legibles por humanos pero que no mantienen la estructura de los datos.</p>
</div>
</div>
</div>
</div>
<p>Cuando el programa con el que estamos ejecutando estos cuadernos se cierra, las variables, listas, tuplas, ect, que hemos creado y manipulado se pierden. Es por esto que los archivos toman una gran relevancia, pues perminten mantener la información generada en el largo plazo. Por ello, en el presente cuaderno nos centraremos en la creación, modificación y actualización de archivos.</p>
<p>La manera en que Python ve un <strong>archivo de texto</strong> es como un arreglo o lista de carácteres, mientras que un <strong>archivo binario</strong> (imágenes, videos, etc.) lo ve como un arreglo de bytes; en ambos casos el primer elemento esta ubicado en la posición 0, es por ello que un archivo con n carácteres o bytes el último elemento esta ubicado en la posición n-1.</p>
<p>Cada uno de los archivos que se abran en Python generarán un <code class="docutils literal notranslate"><span class="pre">file</span> <span class="pre">object</span></code>, el cual permite nuestra interacción con el archivo.</p>
<p>Cada sistema operativo tiene su propia manera de identificar el final de un archivo, puede ser mediante un marcador específico o mediante el conteo del total de carácteres que tiene el archivo.</p>
<div class="section" id="creando-un-txt">
<h2>Creando un .txt<a class="headerlink" href="#creando-un-txt" title="Permalink to this headline">¶</a></h2>
<p>Con las siguientes líneas crearemos un archivo con cinco entradas (filas), cada una de ellas contendrá el código de una persona, su apellido y el dinero que adeuda a un pequeño fondo de ahorros:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fondo</span><span class="p">:</span>
    <span class="n">fondo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;1 Morales 240000</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">fondo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;2 Rodríguez 578138</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">fondo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;3 Blanco 793000</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">fondo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;4 García 238458</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">fondo</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;5 Romero 9125489</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Una forma alternativa de ingresar información al archivo es mediante la siguiente línea de código</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fondo</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;6 Jaimes 275981&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">fondo</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="with">
<h3>With<a class="headerlink" href="#with" title="Permalink to this headline">¶</a></h3>
<p>Así como este pequeño bloque de código, muchas de las aplicaciones que como científicos de datos realizarán en un futuro, requieren establecer conecciones a archivos, redes, bases de datos, etc. y siempre se deben liberar los recursos tan pronto como ya no se requieren, esto con el fin de que otras alpicaciones puedan acceder a ellos, es por ello que <code class="docutils literal notranslate"><span class="pre">with</span></code> realiza las siguientes labores:</p>
<ol class="simple">
<li><p>Adquiere el recurso (en nuestro ejemplo <code class="docutils literal notranslate"><span class="pre">fondo.txt</span></code>)  y asigna su correspondiente objeto a una variable (<code class="docutils literal notranslate"><span class="pre">fondo</span></code>).</p></li>
<li><p>Permite el uso del recurso mediante la variable (<code class="docutils literal notranslate"><span class="pre">write</span></code> y <code class="docutils literal notranslate"><span class="pre">print</span></code>).</p></li>
<li><p>Invoca al método <code class="docutils literal notranslate"><span class="pre">close</span></code> para liberar el recurso, cuando se alcanza el final del <code class="docutils literal notranslate"><span class="pre">with</span></code>.</p></li>
</ol>
</div>
<div class="section" id="open">
<h3>Open<a class="headerlink" href="#open" title="Permalink to this headline">¶</a></h3>
<p>La función <code class="docutils literal notranslate"><span class="pre">open</span></code> abre un archivo (en nuestro ejemplo <code class="docutils literal notranslate"><span class="pre">fondo.txt</span></code>) y le asigna un objeto de archivo. El modo asigna las tareas que se pueden realizar cuando se abre el archivo <em>leer</em>, <em>escrbir</em>, etc. los posibles modos son:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Modo</p></th>
<th class="text-align:center head"><p>Tarea</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>“r”</p></td>
<td class="text-align:center"><p>Read: Valor por defecto. Abre un archivo para lectura. Genera error si el archivo no existe</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>“a”</p></td>
<td class="text-align:center"><p>Append: Abre un archivo para agregarle información, crea el archivo si no existe</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>“w”</p></td>
<td class="text-align:center"><p>Write: Abre un archivo para escritura, crea el archivo si no existe</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>“x”</p></td>
<td class="text-align:center"><p>Create: Crea el archivo especificado. Genera error si el archivo existe</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>“t”</p></td>
<td class="text-align:center"><p>Text: Valor por defecto. El archivo a manipular será de tipo texto</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>“b”</p></td>
<td class="text-align:center"><p>Binary: El archivo a manipular será de tipo binario</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>“+”</p></td>
<td class="text-align:center"><p>Update: Abre un archivo para actualizarlo debe estar precedido de <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">w</span></code> o <code class="docutils literal notranslate"><span class="pre">a</span></code> e indica que el archivo también será para leer y escribir</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="write">
<h3>Write<a class="headerlink" href="#write" title="Permalink to this headline">¶</a></h3>
<p>En el ejemplo hemos visto que, con <code class="docutils literal notranslate"><span class="pre">with</span></code> hemos podido asignar el objeto que regresa <code class="docutils literal notranslate"><span class="pre">open</span></code> a la variable <code class="docutils literal notranslate"><span class="pre">fondo</span></code> con la cláusula <code class="docutils literal notranslate"><span class="pre">as</span></code>, dicha variable <code class="docutils literal notranslate"><span class="pre">fondo</span></code> permite la interacción con el archivo. Posteriormente empleamos el método <code class="docutils literal notranslate"><span class="pre">write</span></code> para escribir cinco registros en nuestro archivo, el método tiene como argumento la cadena de carácteres que deseamos incluir en el archivo.</p>
</div>
</div>
<div class="section" id="leyendo-archivos">
<h2>Leyendo archivos<a class="headerlink" href="#leyendo-archivos" title="Permalink to this headline">¶</a></h2>
<p>Con el código que ejecutamos anteriormente, hemos creado un archivo (fondo.txt) en nuestra actual ubicación. Ahora veremos la manera de leer tal información:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fondo</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="s2">&quot;Código&quot;</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="s2">&quot;Apellido&quot;</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="s2">&quot;Balance&quot;</span><span class="si">:</span><span class="s1">&gt;10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">registro</span> <span class="ow">in</span> <span class="n">fondo</span><span class="p">:</span>
        <span class="n">codigo</span><span class="p">,</span> <span class="n">apellido</span><span class="p">,</span> <span class="n">balance</span> <span class="o">=</span> <span class="n">registro</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">codigo</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="n">apellido</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="n">balance</span><span class="si">:</span><span class="s1">&gt;10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Código    Apellido     Balance
1         Morales       240000
2         Rodríguez     578138
3         Blanco        793000
4         García        238458
5         Romero       9125489
6         Jaimes        275981
</pre></div>
</div>
</div>
</div>
<p>Hemos accedido al archivo con el modo <code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code>, ya que queremos evitar modificaciones accidentales sobre él. La iteración que hemos realizado sobre el objeto que representa al archivo, se hace por cada “registro”, es decir, línea por línea y en cada interación lo que hacemos es dividir el texto en “palabras” con el método <code class="docutils literal notranslate"><span class="pre">split</span></code>, y “desempacamos” la cadena con la forma en que almacenamos su contenido en las variables <code class="docutils literal notranslate"><span class="pre">codigo</span></code>, <code class="docutils literal notranslate"><span class="pre">apellido</span></code> y  <code class="docutils literal notranslate"><span class="pre">balance</span></code>. Finalmente imprimimos el texto en columnas de ancho fijo, las cuales están alineadas a la izquierda, las dos primeras y a la derecha la última.</p>
<p>Otra forma de leer archivos es mediante el método <code class="docutils literal notranslate"><span class="pre">readlines</span></code>, el cual retorna una lista en la cual cada entrada es una línea del documento:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;1 Morales 240000\n&#39;,
 &#39;2 Rodríguez 578138\n&#39;,
 &#39;3 Blanco 793000\n&#39;,
 &#39;4 García 238458\n&#39;,
 &#39;5 Romero 9125489\n&#39;,
 &#39;6 Jaimes 275981\n&#39;]
</pre></div>
</div>
</div>
</div>
<p>Este método es útil en archivos pequeños, pero cuando se trata de archivos de gran tamaño, es mejor hacer la iteración que mostramos al principio.</p>
</div>
<div class="section" id="actualizando-archivos">
<h2>Actualizando archivos<a class="headerlink" href="#actualizando-archivos" title="Permalink to this headline">¶</a></h2>
<p>Si en nuestro archivos quisiéramos cambiar el apellido ‘Blanco’ por el apellido ‘Cervantes’, el registro original es:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">Blanco</span> <span class="mi">793000</span>
</pre></div>
</div>
<p>si se sobreescribe el apellido, el nuevo registro sería:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span> <span class="n">Cervantes3000</span>
</pre></div>
</div>
<p>Esto ocurre por el tamaño del apellido con el que se esta actualizando el registro, tiene tres carácteres más.</p>
<div class="section" id="ejercicio">
<h3>Ejercicio<a class="headerlink" href="#ejercicio" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>¿Qué ideas propone para solucionar este problema?</p></li>
</ol>
<p>Una de las posibles respuestas es:</p>
<ol class="simple">
<li><p>Copiar los dos primeros registros en otro archivos.</p></li>
<li><p>Generar la entrada que se desea en el archivo creado.</p></li>
<li><p>Copiar el resto de registros al nuevo.</p></li>
<li><p>Eliminar el archivo viejo.</p></li>
<li><p>Renombrar el nuevo archivo</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fondo</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">registro</span> <span class="ow">in</span> <span class="n">fondo</span><span class="p">:</span>
        <span class="n">codigo</span><span class="p">,</span> <span class="n">apellido</span><span class="p">,</span> <span class="n">balance</span> <span class="o">=</span> <span class="n">registro</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">apellido</span> <span class="o">==</span> <span class="s1">&#39;Blanco&#39;</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo2.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a+&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fondo2</span><span class="p">:</span>
                <span class="n">fondo2</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;3 Cervantes 793000</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo2.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a+&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fondo2</span><span class="p">:</span>
                <span class="n">fondo2</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">registro</span><span class="p">)</span>            
</pre></div>
</div>
</div>
</div>
<p>Para eliminar y renombrar el nuevo archivo debemos importar la librería <code class="docutils literal notranslate"><span class="pre">os</span></code>, para emplear la función <code class="docutils literal notranslate"><span class="pre">remove</span></code>: la cual como argumento recibe el nombre del archivo que se desea eliminar, y la función <code class="docutils literal notranslate"><span class="pre">rename</span></code>: esta recibe dos argumentos, el primero es el nombre del archivo al que le deseamos cambiar el nombre y el segundo el nombre con el que deseamos se quede tal archivo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="c1">#os.remove(&#39;fondo.txt&#39;)</span>
<span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;fondo2.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;fondo.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h3>Ejercicio<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>En el diligenciamento de los datos del fondo a habido un error, los registros 5 y 6 tienen los apellidos intercambiados. Modifica el código anterior para arreglar este asunto (utiliza las variables <code class="docutils literal notranslate"><span class="pre">codigo</span></code> y <code class="docutils literal notranslate"><span class="pre">balance</span></code> durante el proceso).</p></li>
</ol>
</div>
</div>
<div class="section" id="serializacion-con-json">
<h2>Serialización con JSON<a class="headerlink" href="#serializacion-con-json" title="Permalink to this headline">¶</a></h2>
<p>Los archivos <code class="docutils literal notranslate"><span class="pre">JSON</span> <span class="pre">(JavaScript</span> <span class="pre">Object</span> <span class="pre">Notation)</span></code> son ampliamente utilizados para serializar y transmitir datos estructurados a través de una conexión de red, es por ello que muchos de los servicios basados en la nube los emplean, además no sólo permiten enviar la estructura de los datos (listas, conjuntos, diccionarios y más), son también legibles por los humanos.</p>
<p>Los objetos JSON son similares a los diccionarios en Python, ya que son <code class="docutils literal notranslate"><span class="pre">property</span> <span class="pre">names</span></code> y <code class="docutils literal notranslate"><span class="pre">values</span></code> separados por coma entre llaves, así:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;Código&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Apellido&quot;</span><span class="p">:</span> <span class="s2">&quot;Morales&quot;</span><span class="p">,</span> <span class="s2">&quot;Balance&quot;</span><span class="p">:</span> <span class="mi">240000</span><span class="p">}</span>
</pre></div>
</div>
<p>También en los archivos JSON se aceptan arreglos, los cuales son como las listas de Pyhon, valores separados por coma encerrados en corchetes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p>Los valores que se pueden almacenar en dichos arreglos son:</p>
<ol class="simple">
<li><p>Carácteres encerrados en comillas dobes (“Morales”).</p></li>
<li><p>Números (1 o 2.34).</p></li>
<li><p>Valores Booleanos (<code class="docutils literal notranslate"><span class="pre">true</span></code> y <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Null</span></code> (equivalente al <code class="docutils literal notranslate"><span class="pre">None</span></code> de Python).</p></li>
<li><p>Arreglos ([1,2,3,4,5,6]).</p></li>
<li><p>Otros objetos JSON.</p></li>
</ol>
<p>La librería <code class="docutils literal notranslate"><span class="pre">json</span></code> nos permite convertir los objetos al formato en que deben estar en un archivo JSON, esta tarea se conoce como <strong>serializar</strong> los datos. Vamos a definir un diccionario en el cual hay una llave llamada <code class="docutils literal notranslate"><span class="pre">cuenta</span></code> a la cual se le asigna un valor, este consiste en una lista de diccionarios que representan dos cuentas. Cada uno de los diccionarios esta conformado por el código, apellido y balance:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cuentas_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cuenta&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;Código&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Apellido&#39;</span><span class="p">:</span> <span class="s1">&#39;Morales&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance&#39;</span><span class="p">:</span> <span class="mi">240000</span><span class="p">},</span>
                              <span class="p">{</span><span class="s1">&#39;Código&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Apellido&#39;</span><span class="p">:</span> <span class="s1">&#39;Rodríguez&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance&#39;</span><span class="p">:</span> <span class="mi">578138</span><span class="p">}]}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;cuentas.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cuentas</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">cuentas_dict</span><span class="p">,</span> <span class="n">cuentas</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Si abrimos el archivo que acabamos de crear, lo veremos así:
<img src="https://github.com/CiDExt/Programacion1/blob/master/images/json1.png?raw=true" width="200"></p>
<p>o así:</p>
<img src="https://github.com/CiDExt/Programacion1/blob/master/images/json2.png?raw=true" width="600">
<p>Note que las cadenas de texto en JSON van siempre entre comillas dobles.</p>
<p>La función <code class="docutils literal notranslate"><span class="pre">dumps</span></code> convierte un objeto de Python en objetos de JSON.</p>
<div class="section" id="deserializar">
<h3>Deserializar<a class="headerlink" href="#deserializar" title="Permalink to this headline">¶</a></h3>
<p>La función <code class="docutils literal notranslate"><span class="pre">load</span></code>, del paquete <code class="docutils literal notranslate"><span class="pre">json</span></code>, permite leer todo el contenido del archivo que se ingresa como argumento de ella y convertir los objetos tipo JSON a objetos de Python. Este proceso se conoce como deserializar los datos. Vamos a utilizar el ejemplo anterior para reconstruir nuestro diccionario original:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;cuentas.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cuentas</span><span class="p">:</span>
    <span class="n">cuentas_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cuentas</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Ya hemos almacenado la información del archivo en la variable <code class="docutils literal notranslate"><span class="pre">cuentas_json</span></code>, de modo que podemos interactuar con dicho contenido:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cuentas_json</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;cuenta&#39;: [{&#39;Código&#39;: 1, &#39;Apellido&#39;: &#39;Morales&#39;, &#39;Balance&#39;: 240000},
  {&#39;Código&#39;: 2, &#39;Apellido&#39;: &#39;Rodríguez&#39;, &#39;Balance&#39;: 578138}]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Acceder al diccionario cuenta:</span>
<span class="n">cuentas_json</span><span class="p">[</span><span class="s1">&#39;cuenta&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;Código&#39;: 1, &#39;Apellido&#39;: &#39;Morales&#39;, &#39;Balance&#39;: 240000},
 {&#39;Código&#39;: 2, &#39;Apellido&#39;: &#39;Rodríguez&#39;, &#39;Balance&#39;: 578138}]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Acceder a las cuentas individuales:</span>
<span class="n">cuentas_json</span><span class="p">[</span><span class="s1">&#39;cuenta&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Código&#39;: 1, &#39;Apellido&#39;: &#39;Morales&#39;, &#39;Balance&#39;: 240000}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cuentas_json</span><span class="p">[</span><span class="s1">&#39;cuenta&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Código&#39;: 2, &#39;Apellido&#39;: &#39;Rodríguez&#39;, &#39;Balance&#39;: 578138}
</pre></div>
</div>
</div>
</div>
<p>Como antes, podemos manipular el diccionario que hemos creado:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cuentas_json</span><span class="p">[</span><span class="s1">&#39;cuenta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;Código&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;Apellido&#39;</span><span class="p">:</span> <span class="s1">&#39;Blanco&#39;</span><span class="p">,</span> <span class="s1">&#39;Balance&#39;</span><span class="p">:</span> <span class="mi">793000</span><span class="p">})</span>
<span class="n">cuentas_json</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;cuenta&#39;: [{&#39;Código&#39;: 1, &#39;Apellido&#39;: &#39;Morales&#39;, &#39;Balance&#39;: 240000},
  {&#39;Código&#39;: 2, &#39;Apellido&#39;: &#39;Rodríguez&#39;, &#39;Balance&#39;: 578138},
  {&#39;Código&#39;: 3, &#39;Apellido&#39;: &#39;Blanco&#39;, &#39;Balance&#39;: 793000}]}
</pre></div>
</div>
</div>
</div>
<p>Para hacer un <em>pretty print</em> de los objetos de JSON, podemos hacer la siguiente combinación de <code class="docutils literal notranslate"><span class="pre">dumps</span></code> y <code class="docutils literal notranslate"><span class="pre">load</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;cuentas.json&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cuentas</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cuentas</span><span class="p">),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
   &quot;cuenta&quot;: [
      {
         &quot;C\u00f3digo&quot;: 1,
         &quot;Apellido&quot;: &quot;Morales&quot;,
         &quot;Balance&quot;: 240000
      },
      {
         &quot;C\u00f3digo&quot;: 2,
         &quot;Apellido&quot;: &quot;Rodr\u00edguez&quot;,
         &quot;Balance&quot;: 578138
      }
   ]
}
</pre></div>
</div>
</div>
</div>
<p>el argumento adicional que hemos empleado <code class="docutils literal notranslate"><span class="pre">indent</span></code>, se puede utilizar cuando se almacena la información en el archivo. Sirve para dar el tamaño de la sangría a la hora de imprimir la información.</p>
</div>
</div>
<div class="section" id="archivos-csv">
<h2>Archivos CSV<a class="headerlink" href="#archivos-csv" title="Permalink to this headline">¶</a></h2>
<p>En ciencia de datos es muy común trabajar con archivos CSV (comma-separated values), ya que son legibles por humanos pero tienen la desventaja que no guardan la estructura de la información. El paquete <code class="docutils literal notranslate"><span class="pre">csv</span></code> tiene funciones para trabajar con este tipo de archivos, sin embargo no es el único ya que paquetes como <code class="docutils literal notranslate"><span class="pre">pandas</span></code> tienen sus funciones para manipularlos también.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.csv&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cuentas</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">cuentas</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Morales&#39;</span><span class="p">,</span><span class="mi">240000</span><span class="p">])</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;Rodríguez&#39;</span><span class="p">,</span><span class="mi">578138</span><span class="p">])</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;Blanco&#39;</span><span class="p">,</span><span class="mi">793000</span><span class="p">])</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;García&#39;</span><span class="p">,</span><span class="mi">238458</span><span class="p">])</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;Romero&#39;</span><span class="p">,</span><span class="mi">9125489</span><span class="p">])</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;Jaimes&#39;</span><span class="p">,</span><span class="mi">275981</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>La función <code class="docutils literal notranslate"><span class="pre">writer</span></code> regresa un objeto que tiene permitido escribir determinado objeto en el archivo.</p>
<p>Cada llamada que se hace del método <code class="docutils literal notranslate"><span class="pre">writerow</span></code> recibe un iterable el cual se almacenará en el archivo, el separador que se usa por defecto es la coma, pero se puede especificar el delimitador de los valores.</p>
<p>Para leer archivos CSV, seguimos las mismas ideas de antes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;fondo.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cuentas</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="s2">&quot;Código&quot;</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="s2">&quot;Apellido&quot;</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="s2">&quot;Balance&quot;</span><span class="si">:</span><span class="s1">&gt;10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">cuentas</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">registro</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">codigo</span><span class="p">,</span> <span class="n">apellido</span><span class="p">,</span> <span class="n">balance</span> <span class="o">=</span> <span class="n">registro</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">codigo</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="n">apellido</span><span class="si">:</span><span class="s1">&lt;10</span><span class="si">}{</span><span class="n">balance</span><span class="si">:</span><span class="s1">&gt;10</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Código    Apellido     Balance
1         Morales       240000
2         Rodríguez     578138
3         Blanco        793000
4         García        238458
5         Romero       9125489
6         Jaimes        275981
</pre></div>
</div>
</div>
</div>
<p>La función <code class="docutils literal notranslate"><span class="pre">reader</span></code> crea un objeto que lee la información almacenada en el archivo tipo CSV. El <code class="docutils literal notranslate"><span class="pre">for</span></code> que está en el bloque de código anterior, permite recorrer uno por uno los registros almacenados en el CSV, y los valores de dichas entradas vienen como una lista, la cual se <em>desempaca</em>  en las variables <code class="docutils literal notranslate"><span class="pre">codigo</span></code>, <code class="docutils literal notranslate"><span class="pre">apellido</span></code> y <code class="docutils literal notranslate"><span class="pre">balance</span></code>.</p>
<p>A la hora de almacenar la información en este tipo de archivos se debe tener mucho cuidado con las comas presentes en los datos, ya que una coma sobrante o faltante modificará el archivo sensiblemente, por ejemplo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span>
</pre></div>
</div>
<p>genera una lista de 6 valores enteros.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span>
</pre></div>
</div>
<p>genera una lista de 5 valores enteros.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span>
</pre></div>
</div>
<p>genera una lista de 7 valores, 6 enteros y uno <em>vacío</em>.</p>
<div class="section" id="id2">
<h3>Ejercicio<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Busca la manera de escribir y leer la información en un archivo CSV empleando la librería <code class="docutils literal notranslate"><span class="pre">pandas</span></code>.</p></li>
</ol>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="18.Conjuntos%20y%20Diccionarios.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Conjuntos</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="22.Clases.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">La programación orientada a objetos</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          Por Carlos Isaac Zainea/ Miguel Ángel Rippe<br/>
        
            &copy; Derechos de autor 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>